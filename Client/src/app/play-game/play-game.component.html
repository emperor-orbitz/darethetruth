<div class="play-game-div">



    <div class="main-loader" *ngIf="isLoading == true else noLoader">

        <div class="ds-hourglass loader-flex"></div>
        <div class="loader-flex-2">Setting up your Playground</div>

    </div>


    <ng-template #noLoader>
        <div class="no-game" *ngIf="active_game == false">
            <div class="welcome" *ngIf="notification == true">
                <!--SET THIS FOR NOTIF DATA WITH A CLOSE BUTTON-->
                <p>Howdy {{my_username}} <button mat-icon-button (click)="closeNotif()">
                        <mat-icon>close</mat-icon>
                    </button> </p>
            </div>
            <div class="no-game-section">

                <div class="create-game">
                    <h2 style="color:white;"> Start a new Game or join friends!</h2>

                    <button mat-button class="mat-raised-button" (click)="createGame()">
                        <mat-icon>touch_app</mat-icon> Start a Game
                    </button>

                </div>

                <div class="join-game">
                    <button mat-button class="mat-raised-button" style="width:50%" (click)="insertKey()">
                        <mat-icon>settings_remote</mat-icon> Join a Game
                    </button>

                </div>

            </div>
        </div>


        <div class="game-panel" *ngIf="active_game == true">
            <div class="welcome" *ngIf="notification == true">
                <p>
                    <mat-icon>notifications_outline</mat-icon>
                    <span >You have an <a routerLink="check-answer">unread</a> challenge.</span>


                    <button mat-icon-button (click)="closeNotif()">
                        <mat-icon>close</mat-icon>
                    </button>
                </p>
                <!--SET THIS FOR NOTIF DATA WITH A CLOSE BUTTON-->
            </div>



            <div class="game-page">
                <div class="game-actions">
                    <h3>Game Members (KEY: {{invite_code}})</h3>
                        <button mat-button type="submit" (click)="copyToClipboard(invite_code)">
                            <mat-icon>flip</mat-icon> <span style="color:gold">Copy Key to clipboard</span>
                        </button>

                    <!-- <span> Check Quests</a> here</span> -->
                </div>

                <div class="game-players">

                    <div class="player-bar" *ngFor="let player of members">
                        <div style="font-weight:bold;"> @{{player.email==my_email? "ME ":player.username}} &nbsp;
                            &nbsp; &nbsp;
                            &nbsp; &nbsp;
                            <div *ngIf="my_email != player.email" style="float:right;">
                                <span>
                                    <a [routerLink]="['truth-options',my_uid, player.uid ]"><button
                                            class="truth-button">Truth</button></a></span> &nbsp;
                                &nbsp;<span><a [routerLink]="['dare-options', my_uid, player.uid]"><button
                                            class="dare-button">Dare</button></a></span>
                            </div>
                        </div>

                    </div>
                    <button mat-raised-button style="color:red; margin-top:15px; width:40%" type="submit"
                        (click)="leaveGame()">Leave game</button>


                </div>






            </div>
        </div>
    </ng-template>

</div>